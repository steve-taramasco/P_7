{"remainingRequest":"/Users/steve/Git/Groupomania/front/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/steve/Git/Groupomania/front/src/views/posts/PostDetails.vue?vue&type=template&id=5f9a4f7c&scoped=true","dependencies":[{"path":"/Users/steve/Git/Groupomania/front/src/views/posts/PostDetails.vue","mtime":1612697901580},{"path":"/Users/steve/Git/Groupomania/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/steve/Git/Groupomania/front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/steve/Git/Groupomania/front/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/steve/Git/Groupomania/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/steve/Git/Groupomania/front/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgogICAgPGRpdiB2LWlmPSJwb3N0Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0cyI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InVzZXIiPgogICAgICAgICAgICAgICAgPGlvbi1pY29uIG5hbWU9InBlcnNvbi1jaXJjbGUtb3V0bGluZSIgY2xhc3M9Imljb24iPjwvaW9uLWljb24+CiAgICAgICAgICAgICAgICA8cCB2LWlmPSJwb3N0LnVzZXIiPkAge3sgcG9zdC51c2VyLnVzZXJuYW1lIH19PC9wPgogICAgICAgICAgICAgICAgPHAgdi1lbHNlPkAgaW5jb25udTwvcD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvc3QiPgogICAgICAgICAgICAgICAgPHA+e3sgcG9zdC5tZXNzYWdlIH19PC9wPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGNsYXNzPSJjb21tZW50cyIgdi1mb3I9ImNvbW1lbnQgaW4gY29tbWVudHMiIDprZXk9IGNvbW1lbnQ+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InVzZXIiPgogICAgICAgICAgICAgICAgPGlvbi1pY29uIG5hbWU9InBlcnNvbi1jaXJjbGUtb3V0bGluZSIgY2xhc3M9Imljb24iPjwvaW9uLWljb24+CiAgICAgICAgICAgICAgICA8cD5AIHt7IGNvbW1lbnQudXNlcklkIH19PC9wPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29tbWVudCI+CiAgICAgICAgICAgICAgICA8cD57eyBjb21tZW50Lm1lc3NhZ2UgfX08L3A+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxmb3JtPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgdi1tb2RlbD0ibWVzc2FnZSIgcGxhY2Vob2xkZXI9ImNvbW1lbnRhaXJlLi4uIj4KICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIEBjbGljaz0ic2VuZChpZCkiPkVudm95ZXI8L2J1dHRvbj4KICAgICAgICA8L2Zvcm0+IAogICAgPC9kaXY+CgogICAgPGRpdiB2LWVsc2U+CiAgICAgICAgPHA+bG9hZGluZy4uLjwvcD4KICAgIDwvZGl2Pgo="},{"version":3,"sources":["/Users/steve/Git/Groupomania/front/src/views/posts/PostDetails.vue"],"names":[],"mappings":"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AAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACV,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/steve/Git/Groupomania/front/src/views/posts/PostDetails.vue","sourceRoot":"","sourcesContent":["<template>\n\n    <div v-if=\"post\">\n        <div class=\"posts\">\n            <div class=\"user\">\n                <ion-icon name=\"person-circle-outline\" class=\"icon\"></ion-icon>\n                <p v-if=\"post.user\">@ {{ post.user.username }}</p>\n                <p v-else>@ inconnu</p>\n            </div>\n            <div class=\"post\">\n                <p>{{ post.message }}</p>\n            </div>\n        </div>\n        \n        <div class=\"comments\" v-for=\"comment in comments\" :key= comment>\n            <div class=\"user\">\n                <ion-icon name=\"person-circle-outline\" class=\"icon\"></ion-icon>\n                <p>@ {{ comment.userId }}</p>\n            </div>\n            <div class=\"comment\">\n                <p>{{ comment.message }}</p>\n            </div>\n        </div>\n        <form>\n            <input type=\"text\" v-model=\"message\" placeholder=\"commentaire...\">\n            <button type=\"button\" @click=\"send(id)\">Envoyer</button>\n        </form> \n    </div>\n\n    <div v-else>\n        <p>loading...</p>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    props: ['id'],\n    data () {\n        return {\n            post: null,\n            comments: [],\n            userId: sessionStorage.getItem('userId'),\n            token : sessionStorage.getItem('token'),\n            message: null\n        }\n    },\n    mounted () {\n        this.getPost(this.id);\n    },\n\n    methods: {\n        getPost(id) {\n            axios.get('http://localhost:3000/api/posts/' + id, {\n                headers: { \"Authorization\" : `Bearer ${sessionStorage.getItem('token')}` }\n            })\n            .then(results => {\n            this.post = results.data.post;\n            this.comments = results.data.post.comments;\n            })\n            .catch(error => console.log(error))\n        },\n\n        send(id) {\n            axios.post('http://localhost:3000/api/comments/' + id,\n            {\n                data: {\n                    comment: this.message,\n                    userId: this.userId\n                }\n            },\n            {\n                headers: { \"Authorization\" : `Bearer ${ this.token }` }\n            })\n            .then(() => {\n                this.message = null;\n                this.getPost(id);\n            })\n            .catch(error => console.log(error));  \n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.posts {\n    display: flex;\n    margin: 3em 0;\n    padding: 1em;\n    .user {\n        flex: 1;\n    }\n    .post {\n      flex: 3;\n      background-color: lightgrey;\n      border-radius: 10px;\n      cursor: pointer;\n      p:nth-child(1) {\n        font-weight: bold;\n      }\n    }\n}\n.comments {\n    display: flex;\n    padding: 1em;\n    margin-bottom: 4em;\n    .user {\n        flex: 1;\n        p {\n            margin: 0;\n        }\n    }\n    .comment {\n      flex: 3;\n      background-color: whitesmoke;\n      border-radius: 10px;\n      cursor: pointer;\n      p:nth-child(1) {\n        font-weight: bold;\n      }\n    }\n}\n\n.icon {\n    width: 3em;\n    height: 3em;\n\n}\n\nform {\n  padding: 1em;\n  border-top: solid 2px lightgrey;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  background: white;\n  width: -webkit-fill-available;\n  input {\n      margin-right: 2em;\n      padding: .3em 1em;\n      width: 15em;\n      border-radius: 4px;\n      border: 1px solid darkgray;\n      &:focus {\n          outline: none;\n          box-shadow: 0px 0px 5px darkgrey;\n      }\n  }\n}\n</style>\n\n"]}]}